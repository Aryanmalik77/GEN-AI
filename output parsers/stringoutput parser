from langchain_huggingface import ChatHuggingFace, HuggingFaceEndpoint
from langchain_core.prompts import PromptTemplate
from dotenv import load_dotenv
from langchain_core.output_parsers import StrOutputParser

load_dotenv()


import os
llm =HuggingFaceEndpoint(
    repo_id = "deepseek-ai/DeepSeek-V3.2-Exp",
    task = "text-generation",
    huggingfacehub_api_token=""

)
model = ChatHuggingFace(llm = llm)
# prompt1 detailed report
template1 = PromptTemplate(
    template = 'write a detailed on the {topic}',
    input_variables = ["topic"]

)
template2 = PromptTemplate(
    template = 'write a 5 lines  on the {text}',
    input_variables = ["text"]
)
parser = StrOutputParser()
chain = template1| model| parser|template2|model|parser

result = chain.invoke({"topic" : "Black hole"})
print(result)
